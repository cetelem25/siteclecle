<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Révisions 2GM – Texte à trous</title>
<style>
  body{margin:0;background:#0f1320;color:#e9ecf1;font:15px system-ui;padding:16px}
  h1{margin:8px 0 16px}
  nav a{color:#e9ecf1;margin-right:10px;text-decoration:none;font-weight:bold}
  .btn{padding:8px 12px;background:#1b2140;border:1px solid #232a40;border-radius:8px;color:#fff;cursor:pointer;transition:0.15s;margin:6px 6px 6px 0}
  .btn:hover{filter:brightness(1.15)}
  .fill-input{width:220px;padding:6px;border-radius:6px;border:1px solid #232a40;background:#0f1420;color:#e9ecf1;margin-left:8px}
  .answer.ok{color:#4caf50;font-weight:700;margin-left:6px}
  .answer.ko{color:#f44336;font-weight:700;margin-left:6px}
  .answer.muted{color:#ccc;margin-left:6px}
  #fillContainer div{margin:8px 0;padding:8px;background:#151a2b;border-radius:8px}
  img.chrono{display:block;margin:12px auto 6px;max-width:95%;border-radius:8px;border:1px solid #232a40}
  #fillResult{margin-top:12px;font-weight:bold}
  .note{color:#cbd5ff;font-size:13px;margin-top:8px}
  @media (max-width:720px){ .fill-input{width:140px} }
</style>
</head>
<body>

<h1>✏️ Texte à trous – Dates 2GM</h1>

<nav>
  <a href="index.html">Accueil</a> |
  <a href="qcm.html">QCM</a> |
  <a href="fill.html">Texte à trous</a> |
  <a href="match.html">Relier</a> |
  <a href="videos.html">Vidéos</a>
</nav>

<!-- Frise (image générée) : si elle ne s'affiche pas, remplace le src par ton chemin local -->
<img src="sandbox:/mnt/data/A_timeline_infographic_titled_%22Frise_chronologique.png" alt="Frise chronologique 2GM" class="chrono">

<p>Complète chaque événement avec la bonne date :</p>
<div id="fillContainer"></div>

<div style="margin-top:12px">
  <button class="btn" onclick="checkFill()">Vérifier</button>
  <button class="btn" onclick="createFill()">Réinitialiser / Générer</button>
  <button class="btn" onclick="autoFillAnswers()">Afficher toutes les réponses</button>
</div>

<div id="fillResult"></div>
<div class="note">Astuce : tu peux copier-coller la date depuis la liste si tu veux vérifier rapidement (mais l'objectif est de la mémoriser !).</div>

<script>
// ===== Liste complète des événements / dates =====
const eventsDates = [
  {event:"Anschluss (Autriche)", date:"13 mars 1938"},
  {event:"Conférence de Munich / Sudètes", date:"30 septembre 1938"},
  {event:"Annexion de la Bohême-Moravie", date:"15 mars 1939"},
  {event:"Invasion de la Pologne", date:"1er septembre 1939"},
  {event:"France & Royaume-Uni déclarent la guerre", date:"3 septembre 1939"},
  {event:"Drôle de guerre", date:"3 septembre 1939 - 10 mai 1940"},
  {event:"Invasion du Danemark et de la Norvège", date:"9 avril 1940"},
  {event:"Offensive allemande à l'Ouest (campagne de France)", date:"10 mai - 22 juin 1940"},
  {event:"Armistice franco-allemand", date:"22 juin 1940"},
  {event:"Bataille d'Angleterre (Blitz)", date:"Juillet - octobre 1940"},
  {event:"L'Italie envahit la Grèce", date:"28 octobre 1940"},
  {event:"Opération Barbarossa (invasion URSS)", date:"22 juin 1941"},
  {event:"Actions des Einsatzgruppen", date:"Juin 1941 - 1944"},
  {event:"Attaque de Pearl Harbor", date:"7 décembre 1941"},
  {event:"Entrée en guerre des États-Unis", date:"8 décembre 1941"},
  {event:"Bataille de Midway", date:"4 - 7 juin 1942"},
  {event:"Bataille de Stalingrad", date:"23 août 1942 - 2 février 1943"},
  {event:"Bataille d'El-Alamein", date:"23 octobre - 3 novembre 1942"},
  {event:"Débarquement en Afrique du Nord (Opération Torch)", date:"8 novembre 1942"},
  {event:"Conférence de Téhéran", date:"28 novembre - 1er décembre 1943"},
  {event:"Opération Bagration", date:"22 juin - 19 août 1944"},
  {event:"Insurrection de Varsovie", date:"1er août - 2 octobre 1944"},
  {event:"Débarquement de Normandie (Overlord)", date:"6 juin 1944"},
  {event:"Débarquement de Provence", date:"15 août 1944"},
  {event:"Libération de Paris", date:"25 août 1944"},
  {event:"Libération de Metz", date:"22 novembre 1944"},
  {event:"Libération de Strasbourg", date:"23 novembre 1944"},
  {event:"Bataille des Ardennes", date:"16 décembre 1944 - 25 janvier 1945"},
  {event:"Libération du camp d'Auschwitz", date:"27 janvier 1945"},
  {event:"Bataille de Berlin", date:"16 avril - 2 mai 1945"},
  {event:"Suicide d'Hitler", date:"30 avril 1945"},
  {event:"Capitulation de l'Allemagne (fin guerre en Europe)", date:"8 mai 1945"},
  {event:"Bombardement d'Hiroshima", date:"6 août 1945"},
  {event:"Bombardement de Nagasaki", date:"9 août 1945"},
  {event:"Capitulation du Japon (fin Seconde Guerre mondiale)", date:"2 septembre 1945"}
];

// ===== Helpers =====
function normalize(str){
  return String(str||'').trim().toLowerCase().replace(/\s+/g,' ').replace(/\s*-\s*/g,'-');
}

// Crée le formulaire de texte à trous
function createFill(){
  const container = document.getElementById('fillContainer');
  if(!container) return;
  container.innerHTML = '';
  eventsDates.forEach((ed, idx) => {
    const div = document.createElement('div');
    div.innerHTML = `${idx+1}) <strong>${ed.event}</strong> : <input type="text" id="fill${idx}" class="fill-input" placeholder="Date"> <span id="fill_out_${idx}" class="answer"></span>`;
    container.appendChild(div);
  });
  document.getElementById('fillResult').textContent = '';
}

// Vérifie toutes les réponses
function checkFill(){
  let ok = 0;
  eventsDates.forEach((ed, idx) => {
    const input = document.getElementById(`fill${idx}`);
    const out = document.getElementById(`fill_out_${idx}`);
    if(!input || !out) return;
    if(normalize(input.value) === normalize(ed.date)){
      ok++; out.textContent = '✔'; out.className = 'answer ok';
    } else if(input.value.trim()===''){
      out.textContent = '—'; out.className = 'answer muted';
    } else {
      out.textContent = `✖ (rép: ${ed.date})`; out.className = 'answer ko';
    }
  });
  document.getElementById('fillResult').textContent = `Score : ${ok}/${eventsDates.length}`;
}

// Remplit automatiquement toutes les réponses (utile pour correction)
function autoFillAnswers(){
  eventsDates.forEach((ed, idx) => {
    const input = document.getElementById(`fill${idx}`);
    if(input) input.value = ed.date;
  });
  checkFill();
}

// Initialisation automatique si la page charge
window.addEventListener('load', ()=>{
  createFill();
});
</script>
</body>
</html>
